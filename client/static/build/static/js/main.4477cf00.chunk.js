(this.webpackJsonparctic=this.webpackJsonparctic||[]).push([[0],{109:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(38),c=a.n(l);a(90),a(55),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(28),o=a.n(i),m=a(40),u=a(83),s=a(25),d=a(66),p=a(67),E=a(84),f=a(69),g=a(85),h=a(31),b=a.n(h),y=r.a.createContext(),v=(a(109),a(6)),x=a(70),N=a.n(x),C=a(118),w=a(124),k=a(49),S=a(122);function O(){var e=r.a.useContext(y);return r.a.createElement(C.a,{className:"shadow-sm"},r.a.createElement(w.a,{expand:"lg"},r.a.createElement(v.b,{to:"/"},r.a.createElement("img",{src:N.a,className:"inline-block",alt:"bear",style:{height:"2.5rem",paddingRight:"0.5rem"}})),r.a.createElement(v.b,{to:"/"},r.a.createElement(w.a.Brand,null,"Arctic")),r.a.createElement(w.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(w.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(k.a,{className:"mr-auto"},r.a.createElement(v.b,{to:"/about",className:"nav-link"},"About"),r.a.createElement(v.b,{to:"/help",className:"nav-link"},"Help")),r.a.createElement(k.a,null,r.a.createElement(k.a,{className:"mr-auto pr-4"},r.a.createElement(v.b,{to:"/cart",className:"nav-link"},r.a.createElement("i",{className:"fas fa-shopping-cart m-2 inline-block"}),e.cartCount)),r.a.createElement(S.a,{title:"Welcome, Kobe",alignRight:!0},r.a.createElement(S.a.Item,null,"My Account"),r.a.createElement(S.a.Divider,null),r.a.createElement(S.a.Item,{href:"#action/3.4"},"Logout"))))))}function L(){return r.a.createElement("p",{className:"text-center"},"Arctic \xa9 2020")}function j(){var e=r.a.useContext(y);return r.a.createElement(k.a,{variant:"light",defaultActiveKey:"/home",className:"flex-column p-1"},r.a.createElement(k.a.Item,null,r.a.createElement(v.b,{to:"/"},"All Products (",e.products.length,")")),e.categories.map((function(t){return r.a.createElement(k.a.Item,{key:t.id},r.a.createElement(v.b,{to:"/category/".concat(t.title)},t.title," (",e.products.filter((function(e){return e.category===t.id})).length,")"))})))}var T=a(79),q=a(119),F=a(22),M=a(125);function A(e){var t=r.a.useContext(y);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-3"},r.a.createElement(M.a,{className:"shadow-sm",style:{width:"11rem"}},r.a.createElement(M.a.Body,null,r.a.createElement(v.b,{variant:"primary",to:"/product/".concat(e.products.id),className:"btn btn-sm btn-primary",style:{position:"absolute",right:"2px",top:"2px"},onMouseUp:function(){return t.viewRecent(e.products.id)}},"Details"),r.a.createElement(M.a.Img,{variant:"top",src:"".concat("/static/build","/media/products/").concat(e.products.filename,"-1.png"),className:""}),r.a.createElement(M.a.Subtitle,{className:"mb-2",style:{paddingTop:"1rem"}},e.products.name),r.a.createElement(M.a.Text,null,"$",e.products.price)))))}function R(){var e=r.a.useContext(y),t=Object(F.g)({path:"/category/:name",strict:!0,exact:!0}),a={};if(t){var n=t.params.name,l=e.categories.filter((function(e){return e.title===n}));l.length>0?l.map((function(t){return a=e.products.filter((function(e){return e.category===t.id}))})):a=e.products}else a=e.products;return r.a.createElement(r.a.Fragment,null,Object.values(a).map((function(e,t){return r.a.createElement(T.a,{md:"3",key:t},r.a.createElement(A,{products:e,key:t}))})))}function P(){return r.a.createElement(q.a,{fluid:!0,className:"p-0 "},r.a.createElement(C.a,{noGutters:!0,style:{padding:"3rem 0",paddingTop:"2rem"}},r.a.createElement(T.a,null,r.a.createElement("h1",{className:"text-center mt-5"},"Welcome to Arctic"))),r.a.createElement(C.a,{noGutters:!0,style:{padding:"4rem 0"}},r.a.createElement(R,null)))}function I(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,null,r.a.createElement("h1",null,"About Us"),r.a.createElement("hr",null),r.a.createElement("p",null,"Aute adipisicing velit aliqua dolor ad anim aliqua ullamco. Nulla officia ea incididunt irure sit sint sint sit culpa aute reprehenderit elit. Magna sunt aliqua id sunt quis dolore nostrud sint elit Lorem minim dolore proident ut.")))}function B(){return r.a.createElement(q.a,null,r.a.createElement("h1",null,"Help"),r.a.createElement("hr",null),r.a.createElement("p",null,"Non nostrud enim ea sit cupidatat sit ut. Dolore commodo incididunt qui anim. Ipsum dolore incididunt reprehenderit culpa veniam excepteur. Qui incididunt non culpa consectetur dolor velit. Veniam sunt proident laborum dolor commodo aliqua anim aliqua incididunt pariatur."),r.a.createElement("p",null,"Excepteur occaecat eu commodo exercitation. Incididunt Lorem ex Lorem aute excepteur officia eu elit occaecat. Nisi ut commodo proident nisi. Magna ullamco enim aute voluptate adipisicing consequat ut exercitation ex ut. Qui sint enim excepteur occaecat id consequat aliqua voluptate consequat esse proident et occaecat. Aute commodo commodo et adipisicing voluptate proident et tempor est ex reprehenderit. Magna ullamco qui mollit enim sint laboris do proident excepteur laboris."),r.a.createElement("p",null,"Ipsum sint sint ut aute Lorem duis eiusmod aliqua Lorem adipisicing non. Nisi laborum magna incididunt amet aute nisi. Fugiat nulla dolore et mollit aute elit est aliquip aliqua dolor. Cillum commodo est proident cillum et magna pariatur consectetur ea duis dolor officia eiusmod quis. Occaecat elit velit incididunt id ex adipisicing consectetur anim. Et aute quis dolore eu proident mollit amet est. In aliquip ullamco in aliqua velit."))}var z=a(120),G=a(78);function H(){var e=r.a.useContext(y);return e.cartCount>0?r.a.createElement(q.a,{style:{paddingRight:"2rem",paddingLeft:"2rem"}},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h1",{style:{display:"inline",marginBottom:"1rem"}},"Cart"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",{style:{paddingLeft:"2rem"}},"Name"),r.a.createElement("th",{style:{paddingLeft:"2rem"}},"Quantity"),r.a.createElement("th",{style:{paddingLeft:"2rem"}},"Price"),r.a.createElement("th",{style:{paddingLeft:"2rem"}},"Extended"),r.a.createElement("th",null))),r.a.createElement("tbody",null,Object.entries(e.cart).map((function(t){var a,n=Object(s.a)(t,2),l=n[0],c=n[1];return a=e.products.find((function(e){return e.id.toString()===l})),r.a.createElement("tr",{key:a.id},r.a.createElement("td",null,r.a.createElement("img",{src:"".concat("/static/build","/media/products/").concat(a.filename,"-1.png"),style:{width:"50px"},className:"inline-block",alt:a.name})),r.a.createElement("td",{style:{paddingTop:"1.75rem",paddingLeft:"2rem"}},a.name),r.a.createElement("td",{style:{paddingTop:"1.75rem",paddingLeft:"2rem"}},c),r.a.createElement("td",{style:{paddingTop:"1.75rem",paddingLeft:"2rem"}},"$",a.price),r.a.createElement("td",{style:{paddingTop:"1.75rem",paddingLeft:"2rem"}},"$",(a.price*c).toFixed(2)),r.a.createElement("td",{style:{paddingTop:"1.5rem",paddingLeft:"3rem"}},r.a.createElement(G.a,{variant:"outline-dark",onClick:function(){return e.removeFromCart(a.id)}},"Remove")))})),r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",{style:{paddingLeft:"2rem"}},"Total"),r.a.createElement("th",{style:{paddingLeft:"2rem"}}),r.a.createElement("th",{style:{paddingLeft:"2rem"}}),r.a.createElement("th",{style:{paddingLeft:"2rem"}},"$",e.getTotal().toFixed(2)),r.a.createElement("td",{style:{paddingLeft:"3rem"}},r.a.createElement(v.b,{className:"btn btn-success",to:"/checkout"},"Checkout")))))),r.a.createElement(C.a,null,r.a.createElement("div",{style:{height:"10rem"}}))):r.a.createElement(q.a,{style:{padding:"2rem"}},r.a.createElement("h1",null,"Cart"),r.a.createElement("br",null),r.a.createElement("p",null,"No items currently in cart."))}function $(){var e=r.a.useContext(y);return r.a.createElement(q.a,{className:"text-center"},r.a.createElement("h2",null,"Recent:"),r.a.createElement("hr",null),e.recent.map((function(t){var a;return a=e.products.find((function(e){return e.id===t})),r.a.createElement("div",{key:a.id},r.a.createElement(v.b,{to:"/product/".concat(a.id)},r.a.createElement("img",{src:"".concat("/static/build","/media/products/").concat(a.filename,"-1.png"),className:"border rounded shadow-sm m-2",style:{width:"70px"},alt:a.name})))})))}function W(){return r.a.createElement(q.a,{className:"px-4 py-4"},r.a.createElement("h1",null,"Page Not Found"),r.a.createElement("hr",null))}function _(){var e,t=Object(F.g)({path:"/product/:id",strict:!0,sensitive:!0}),a=r.a.useContext(y);e=a.products.find((function(e){return e.id.toString()===t.params.id}));var l=Object(n.useState)("-1"),c=Object(s.a)(l,2),i=c[0],o=c[1];return e?r.a.createElement(q.a,null,r.a.createElement("div",{className:"py-4",style:{paddingLeft:"2rem"}},r.a.createElement("div",{className:"float-right"},r.a.createElement("img",{src:"".concat("/static/build","/media/products/").concat(e.filename).concat(i,".png"),className:"border rounded shadow-sm",style:{width:"300px",marginLeft:"1rem"},alt:e.name}),r.a.createElement("div",{align:"left",style:{marginTop:"0.5rem"}},r.a.createElement("img",{className:"border rounded",alt:e.name,src:"".concat("/static/build","/media/products/").concat(e.filename,"-1.png"),onMouseEnter:function(){return o("-1")},onMouseLeave:function(){return o("-1")},style:{width:"30px",marginRight:"0.5rem",marginLeft:"1rem"}}),r.a.createElement("img",{className:"border rounded",alt:e.name,src:"".concat("/static/build","/media/products/").concat(e.filename,"-2.png"),onMouseEnter:function(){return o("-2")},onMouseLeave:function(){return o("-1")},style:{width:"30px",marginRight:"0.5rem"}}),r.a.createElement("img",{className:"border rounded",alt:e.name,src:"".concat("/static/build","/media/products/").concat(e.filename,"-3.png"),onMouseEnter:function(){return o("-3")},onMouseLeave:function(){return o("-1")},style:{width:"30px",marginRight:"0.5rem"}}),r.a.createElement("img",{className:"border rounded",alt:e.name,src:"".concat("/static/build","/media/products/").concat(e.filename,"-4.png"),onMouseEnter:function(){return o("-4")},onMouseLeave:function(){return o("-1")},style:{width:"30px",marginRight:"0.5rem"}}))),r.a.createElement("h2",null,e.name),r.a.createElement("div",{className:"dropdown-divider",style:{width:"16rem"}}),r.a.createElement("h4",null,"$",e.price),r.a.createElement("div",{style:{marginRight:"10rem"}},r.a.createElement("p",null,e.description)),r.a.createElement(v.b,{className:"btn btn-warning",to:"/cart",onClick:function(){return a.addToCart(e.id)}},"Add To Cart")),r.a.createElement(C.a,{className:"py-5 text-white m-3"},r.a.createElement("h1",null,"Hello"))):r.a.createElement(W,null)}var D=a(123),U=a(121),Z=a(36),J=a(29),Q=a(82),K=Object(Q.a)("pk_test_f1xDCzlBoT3uL1aW4ZmNPYrT00dZoWb1MU");var V=function(e){return r.a.createElement(J.Elements,{stripe:K},r.a.createElement(X,null))},Y={style:{base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},X=function(e){var t=r.a.useContext(y),a=t.getTotal(),n=Object(J.useStripe)(),l=Object(J.useElements)(),c=t.transferCart(),i=Object(F.f)();return r.a.createElement(Z.c,{initialValues:{name:"Conrad Fox",address1:"1234",address2:"5678",city:"Provo",state:"UT",zipcode:"84602",total:a,items:c,payment_intent:{}},validateOnChange:!1,validateOnBlur:!1,validate:function(e){var t={};return e.name||(t.name="Name is required"),e.address1||(t.address1="Address is required"),e.state||(t.state="State is required"),e.city||(t.city="City is required"),e.zipcode||(t.zipcode="Zipcode is required"),t},onSubmit:function(){var e=Object(m.a)(o.a.mark((function e(a,r){var c,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("http://localhost:8000/api/sale/",JSON.stringify(a));case 2:return c=e.sent,e.next=5,new Promise((function(e){setTimeout((function(){e()}),2e3)}));case 5:return e.next=7,n.confirmCardPayment(c.data.client_secret,{payment_method:{card:l.getElement(J.CardElement),billing_details:{name:a.name}}});case 7:(m=e.sent).error?r.setFieldError("payment",m.error.message):"succeeded"===m.paymentIntent.status&&(console.log("success!"),t.clearCart(),i.push("/receipt")),console.log("after the 2 seconds"),console.log(c.data);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){return r.a.createElement(ee,{form:e,total:a})}))},ee=function(e){return r.a.createElement(Z.b,null,r.a.createElement("div",{className:"pl-4 pt-3"},r.a.createElement("h2",null,"Checkout")),r.a.createElement(C.a,null,r.a.createElement(T.a,{md:"6"},r.a.createElement("div",{className:"pl-3 pt-3 pb-3 pr-0"},r.a.createElement(M.a,null,r.a.createElement(M.a.Header,null,"Shipping"),r.a.createElement(M.a.Body,null,r.a.createElement(te,{title:"Name:",name:"name",type:"text",disabled:e.form.isSubmitting}),r.a.createElement(te,{title:"Address 1:",name:"address1",type:"text",disabled:e.form.isSubmitting}),r.a.createElement(te,{title:"Address 2:",name:"address2",type:"text",disabled:e.form.isSubmitting}),r.a.createElement(te,{title:"City:",name:"city",type:"text",disabled:e.form.isSubmitting}),r.a.createElement(te,{title:"State:",name:"state",type:"text",disabled:e.form.isSubmitting}),r.a.createElement(te,{title:"Zip:",name:"zipcode",type:"text",disabled:e.form.isSubmitting}))))),r.a.createElement(T.a,{md:"6"},r.a.createElement("div",{className:"pr-3 pl-0 pb-3 pt-3"},r.a.createElement(M.a,{name:"cardErrors"},r.a.createElement(M.a.Header,null,"Payment"),r.a.createElement(M.a.Body,null,r.a.createElement(Z.a,{name:"payment",disabled:e.form.isSubmitting},(function(t){return r.a.createElement(D.a.Group,null,r.a.createElement(J.CardElement,{options:Y,disabled:e.form.isSubmitting}),t.meta.error&&r.a.createElement("div",{className:"text-danger"},t.meta.error))}))))),r.a.createElement("p",null,"Your card will be charged $",e.total.toFixed(2)),e.form.isSubmitting?r.a.createElement(G.a,{type:"submit",variant:"success",disabled:e.form.isSubmitting},r.a.createElement(U.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"Purchase"):r.a.createElement(G.a,{type:"submit",variant:"success",disabled:e.form.isSubmitting},"Purchase"))))},te=function(e){return r.a.createElement(Z.a,{name:e.name},(function(t){return r.a.createElement(D.a.Group,null,e.title&&r.a.createElement(D.a.Label,null,e.title),r.a.createElement(D.a.Control,Object.assign({type:e.type,placeholder:e.placeholder},t.field,{disabled:e.disabled})),t.meta.touched&&t.meta.error&&r.a.createElement("div",{className:"text-danger"},t.meta.error))}))};function ae(){return r.a.createElement("div",{className:"p-3"},r.a.createElement("h1",null,"Success!"),r.a.createElement("p",null,"Thank you for your purchase."),r.a.createElement("br",null),r.a.createElement("div",{style:{height:"16rem"}}))}var ne=function(){return r.a.createElement(q.a,{className:"p-0 min-vh-100 d-flex flex-column",fluid:!0},r.a.createElement(v.a,null,r.a.createElement(C.a,{className:"flex-grow-0 flex-shrink-0",sticky:"top",noGutters:!0},r.a.createElement(T.a,{className:"px-3 py-2",style:{backgroundColor:"#white"}},r.a.createElement(O,null))),r.a.createElement(C.a,{noGutters:!0,className:"flex-grow shadow-sm"},r.a.createElement(T.a,{md:"2",className:"px-3 py-4",style:{backgroundColor:"#white"}},r.a.createElement(j,null)),r.a.createElement(T.a,{md:"8",className:"px-0 py-0 border border-top-0 border-bottom-0",style:{backgroundColor:"white",color:"black"}},r.a.createElement(F.c,null,r.a.createElement(F.a,{path:"/about"},r.a.createElement(I,null)),r.a.createElement(F.a,{path:"/help"},r.a.createElement(B,null)),r.a.createElement(F.a,{path:"/cart"},r.a.createElement(H,null)),r.a.createElement(F.a,{path:"/checkout"},r.a.createElement(V,null)),r.a.createElement(F.a,{path:"/product",render:function(){return r.a.createElement(_,null)}}),r.a.createElement(F.a,{path:"/receipt"},r.a.createElement(ae,null)),"/>",r.a.createElement(F.a,{path:"/"},r.a.createElement(P,null)))),r.a.createElement(T.a,{md:"2",className:"px-3 py-4",style:{backgroundColor:"white"}},r.a.createElement($,null))),r.a.createElement(C.a,{className:"flex-grow-0 flex-shrink-0"},r.a.createElement(T.a,{className:"px-3 py-2"},r.a.createElement(L,null)))))},re=a(35),le=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(f.a)(t).call(this,e))).clearCart=function(e){a.products,a.setState((function(e){return Object(re.a)(e,(function(e){e.cart={},e.cartCount=0}))}))},a.addToCart=function(e){a.setState((function(t){return Object(re.a)(t,(function(t){e in t.cart?t.cart[e]++:t.cart[e]=1,t.cartCount++}))}))},a.removeFromCart=function(e){a.setState((function(t){return Object(re.a)(t,(function(t){delete t.cart[e],t.cartCount=0;for(var a in t.cart)t.cartCount++,a}))}))},a.viewRecent=function(e){a.setState((function(t){return Object(re.a)(t,(function(t){for(t.recent.includes(e)||t.recent.unshift(e);t.recent.length>5;)t.recent.pop()}))}))},a.actions={addToCart:a.addToCart,removeFromCart:a.removeFromCart,viewRecent:a.viewRecent,getTotal:a.getTotal,transferCart:a.transferCart,clearCart:a.clearCart},a.state={categories:[],products:[],cart:{},cartCount:0,recent:[]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"transferCart",value:function(){for(var e=this,t=[],a=function(){var a=Object(s.a)(r[n],2),l=a[0],c=a[1],i=[];i=e.products.find((function(e){return e.id.toString()===l})),t.push({pid:i.id.toString(),qty:c,price:i.price.toString()})},n=0,r=Object.entries(this.cart);n<r.length;n++)a();return t}},{key:"getTotal",value:function(){for(var e=this,t=0,a=function(){var a,l=Object(s.a)(r[n],2),c=l[0],i=l[1];a=e.products.find((function(e){return e.id.toString()===c})),t+=a.price*i},n=0,r=Object.entries(this.cart);n<r.length;n++)a();return t}},{key:"render",value:function(){return this.state.categories?r.a.createElement(y.Provider,{value:Object(u.a)({},this.state,{},this.actions)},r.a.createElement(ne,null)):r.a.createElement("div",null,"Loading...")}},{key:"componentDidMount",value:function(){var e=Object(m.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://localhost:8000/api/category/");case 2:return t=e.sent,e.next=5,b.a.get("http://localhost:8000/api/product/");case 5:a=e.sent,this.setState({categories:t.data,products:a.data});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(r.a.Component);c.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},70:function(e,t,a){e.exports=a.p+"static/media/bear.16ff51d7.PNG"},86:function(e,t,a){e.exports=a(116)},90:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.4477cf00.chunk.js.map